<%= form_for(report_output, :url => report_output.id.present? ? report_report_output_path(report_output.report, report_output) : report_report_output_index_path) do |f| %>
  <%= render "form/field", :f => f, :field => :label %>
  <%= render "form/field", :f => f, :field => :order %>
  <%= render "form/field", :f => f, :field => :width %>
  <%= render "form/field", :f => f, :field => :height %>

  <%= render "form/field", :f => f, :field => :kind do %>
    <%= select(:report_output, :kind, {
      t(:report_output_kind_table) => :table,
      t(:report_output_kind_value) => :value,
      t(:report_output_kind_chart) => :chart,
    }, :object => report_output) %>
  <% end %>

  <%= render "form/field", :f => f, :field => :query do %>
    <textarea
      id="report_output_query"
      name="report_output[query]"
      rows="10"
      class="code ba b--black-10 pa2 w-100 mb2"
    ><%= report_output.query %></textarea>
  <% end %>

  <%= render "form/timestamps", :f => f %>
  <%= render "form/actions", :f => f, :paths => {
    :back => user_path,
    :delete => report_output.persisted? && report_report_output_path(report_output.report, report_output),
  } %>
<% end %>
